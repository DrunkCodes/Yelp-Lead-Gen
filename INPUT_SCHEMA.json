{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "schemaVersion": 1,
  "title": "Yelp Scraper Input",
  "description": "Provide either keyword+location or a direct Yelp search URL. Advanced arrays are optional.",
  "type": "object",
  "required": [],
  "properties": {
    "keyword": {
      "type": "string",
      "title": "Keyword",
      "description": "e.g., plumbers, dentists",
      "editor": "textfield"
    },
    "location": {
      "type": "string",
      "title": "Location",
      "description": "e.g., Austin, TX",
      "editor": "textfield"
    },
    "searchUrl": {
      "type": "string",
      "title": "Yelp search URL",
      "description": "Direct Yelp search URL (overrides keyword/location)",
      "editor": "textfield"
    },
    "queries": {
      "type": "array",
      "description": "Array of query objects, each with 'keyword' and 'location'.",
      "title": "Query objects",
      "editor": "json",
      "items": {
        "type": "object",
        "properties": {
          "keyword": {
            "type": "string",
            "title": "Keyword",
            "description": "e.g., plumbers"
          },
          "location": {
            "type": "string",
            "title": "Location",
            "description": "e.g., Austin, TX"
          }
        },
        "required": ["keyword", "location"]
      }
    },
    "keywords": {
      "type": "array",
      "description": "List of keywords to combine with locations (cross-product if multiple).",
      "title": "Keywords list",
      "editor": "json",
      "items": { "type": "string" }
    },
    "locations": {
      "type": "array",
      "description": "List of locations to combine with keywords (cross-product if multiple).",
      "title": "Locations list",
      "editor": "json",
      "items": { "type": "string" }
    },
    "searchUrls": {
      "type": "array",
      "description": "Direct Yelp search URLs to process.",
      "title": "Yelp search URLs",
      "editor": "json",
      "items": { "type": "string" }
    },
    "numBusinesses": {
      "type": "integer",
      "title": "Businesses to scrape",
      "description": "Max 500",
      "default": 50,
      "minimum": 1,
      "maximum": 500,
      "editor": "number"
    },
    "concurrency": {
      "type": "integer",
      "title": "Concurrency",
      "description": "Clamped 3â€“5 for stability",
      "default": 5,
      "minimum": 3,
      "maximum": 5,
      "editor": "number"
    },
    "naturalNavigation": {
      "type": "boolean",
      "title": "Use natural navigation via search engines",
      "description": "Navigate to Yelp via search engines for more natural traffic patterns",
      "default": false,
      "editor": "checkbox"
    },
    "perBusinessIsolation": {
      "type": "boolean",
      "title": "Isolate browser context per business",
      "description": "Use fresh browser context for each business (slower but stealthier)",
      "default": false,
      "editor": "checkbox"
    },
    "entryFlowRatios": {
      "type": "string",
      "title": "Entry flow ratios",
      "description": "google:0.6,direct:0.3,bing:0.1",
      "default": "google:0.6,direct:0.3,bing:0.1",
      "editor": "textfield"
    },
    "debugSnapshot": {
      "type": "boolean",
      "title": "Save HTML snapshots for debugging",
      "description": "Save page HTML snapshots to debug extraction issues",
      "default": false,
      "editor": "checkbox"
    },
    "grokModel": {
      "type": "string",
      "title": "Grok model",
      "description": "e.g., grok-2",
      "default": "grok-2",
      "editor": "textfield"
    },
    "country": {
      "type": "string",
      "title": "Proxy country",
      "description": "Two-letter code, e.g., US",
      "editor": "textfield"
    },
    "captchaTimeoutSeconds": {
      "type": "integer",
      "title": "CAPTCHA timeout (seconds)",
      "description": "Maximum time to wait for CAPTCHA solving (60-1200 seconds)",
      "default": 300,
      "minimum": 60,
      "maximum": 1200,
      "editor": "number"
    },
    "emailMaxContactPages": {
      "type": "integer",
      "title": "Max contact pages to crawl",
      "description": "Maximum number of website pages to crawl looking for email addresses",
      "default": 10,
      "minimum": 1,
      "maximum": 20,
      "editor": "number"
    }
  }
}
